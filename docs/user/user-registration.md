# User Registration (회원가입 상세 흐름 & 화면 단위 규격)

> 목적: 친구모드 최초 가입 흐름을 페이지/필드/검증 규칙까지 상세 정의.
> *맞선 모드 가입은 별도 문서(맞선 전용 추가 입력)에서 정의됨.*

## 전체 플로우 (단계 요약)
1. 언어 선택 (선택 값 저장)
2. 계정 생성 페이지 (이메일/비밀번호/닉네임)
3. 본인 인증 페이지 (통신사 모듈 호출)
4. 사진 업로드 페이지 (3~5장)
5. 프로필 입력 (3분할 페이지)
6. 가입 완료 (가입대기 상태)
7. 운영자 승인 → 친구모드 활성

---

## 화면별 상세

### A. 계정 생성 페이지 (`/register/account`)
- 입력 항목:
    - 이메일 (필수, RFC 기반 유효성검사, 중복 체크)
    - 비밀번호 (필수, 8~20자, 대문자/소문자/숫자/특수문자 권장)
    - 비밀번호 확인
    - 닉네임 (필수, 2~12자, 특수문자 제한)
- UI/UX:
    - 실시간 유효성 피드백
    - 약관 동의 체크박스 (서비스 약관, 개인정보처리방침, 보증금 정책 동의)
- 이벤트 트래킹:
    - registration_account_started, account_submitted(success/fail_reason)

### B. 본인 인증 페이지 (`/register/verify`)
- 기능:
    - 내국인 vs 외국인(한국 거주) 자동 분기
    - 내국인: PASS/KCB 연동 (API 호출)
    - 외국인: 외국인등록증 OCR 옵션 + 통신사 인증
- 검증:
    - 나이(생년월일) 계산 후 만 19세 미만 차단
- 보안:
    - 인증 로그 저장 (IP, 통신사 응답 코드)
- 이벤트:
    - verification_started, verification_result

### C. 프로필 사진 업로드 페이지 (`/register/photos`)
- 제약:
    - 형식: JPG/PNG, 각 파일 ≤ 10MB
    - 개수: 최소 3장, 최대 5장 (업로드 UI에서 드래그/순서 변경 가능)
    - 1장 이상은 얼굴 검출 확인 (AI/백엔드에서 얼굴 유무 검사)
- 표시:
    - 업로드 진행률, 미리보기, 삭제/순서 변경
- 검증 실패:
    - 얼굴 미검출 → 경고 메시지, 재업로드 유도

### D. 프로필 입력 페이지 (3단 분할)
#### D1. 기본 정보 (`/register/profile/step1`)
- 성별 (남/여/기타)
- 생년월일 (YYYY-MM-DD)
- 거주 지역(시/도 + 구) — 드롭다운/자동완성
- 활동 지역(최대 3곳) — 텍스트/추천 리스트

#### D2. 학력/직업/언어 (`/register/profile/step2`)
- 학력: 초/중/고/전문대/4년제/대학원(복수 선택 허용)
- 직업: 직군 선택 + 자유 입력(회사명은 선택)
- 언어 능력: 한국어/영어/일본어/기타 (상/중/하)

#### D3. 관심사/소개 (`/register/profile/step3`)
- 취미/관심사: 카테고리 기반 다중 선택(카페/영화/등산/언어교환 등)
- 자기소개: 50자 이상 권장(최대 500자)
- 초기 이상형(간단): 나이범위, 희망지역(친구모드용 간단 항목)

### E. 가입 완료 페이지 (`/register/complete`)
- 상태표기: `가입대기`
- 메시지: "가입이 완료되었습니다. 운영자 승인 후 친구모드를 이용하실 수 있습니다."
- 버튼: 메인으로 이동(제한적 기능만 허용)
- 제한: 가입대기 상태에서의 기능 제한 표기 (채팅발신 제한 등)

---